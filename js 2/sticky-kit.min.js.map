{"version":3,"sources":["sticky-kit.min.js"],"names":["$","win","this","jQuery","window","fn","stick_in_parent","opts","doc","elm","enable_bottoming","inner_scrolling","manual_spacer","offset_top","outer_width","parent_selector","recalc_every","sticky_class","_fn","_i","_len","parent","spacer","bottoming","document","el","computed","w","getComputedStyle","parseFloat","getPropertyValue","outerWidth","padding_bottom","parent_top","parent_height","top","height","el_float","detached","bottomed","detach","fixed","last_pos","last_scroll_height","offset","recalc","recalc_and_tick","recalc_counter","tick","data","closest","length","css","border_top","padding_top","restore","parseInt","insertAfter","position","width","bottom","removeClass","outerHeight","display","vertical-align","float","delta","recalced","scroll","will_bottom","win_height","scrollTop","trigger","Math","max","min","addClass","after","append","off","body","removeData","remove","on","setTimeout","call"],"mappings":"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","file":"sticky-kit.min.js","sourcesContent":["// Generated by CoffeeScript 1.6.2\n/**\n@license Sticky-kit v1.1.3 | WTFPL | Leaf Corcoran 2015 | http://leafo.net\n*/\n\n\n(function() {\n  var $, win;\n\n  $ = this.jQuery || window.jQuery;\n\n  win = $(window);\n\n  $.fn.stick_in_parent = function(opts) {\n    var doc, elm, enable_bottoming, inner_scrolling, manual_spacer, offset_top, outer_width, parent_selector, recalc_every, sticky_class, _fn, _i, _len;\n\n    if (opts == null) {\n      opts = {};\n    }\n    sticky_class = opts.sticky_class, inner_scrolling = opts.inner_scrolling, recalc_every = opts.recalc_every, parent_selector = opts.parent, offset_top = opts.offset_top, manual_spacer = opts.spacer, enable_bottoming = opts.bottoming;\n    if (offset_top == null) {\n      offset_top = 0;\n    }\n    if (parent_selector == null) {\n      parent_selector = void 0;\n    }\n    if (inner_scrolling == null) {\n      inner_scrolling = true;\n    }\n    if (sticky_class == null) {\n      sticky_class = \"is_stuck\";\n    }\n    doc = $(document);\n    if (enable_bottoming == null) {\n      enable_bottoming = true;\n    }\n    outer_width = function(el) {\n      var computed, w, _el;\n\n      if (window.getComputedStyle) {\n        _el = el[0];\n        computed = window.getComputedStyle(el[0]);\n        w = parseFloat(computed.getPropertyValue(\"width\")) + parseFloat(computed.getPropertyValue(\"margin-left\")) + parseFloat(computed.getPropertyValue(\"margin-right\"));\n        if (computed.getPropertyValue(\"box-sizing\") !== \"border-box\") {\n          w += parseFloat(computed.getPropertyValue(\"border-left-width\")) + parseFloat(computed.getPropertyValue(\"border-right-width\")) + parseFloat(computed.getPropertyValue(\"padding-left\")) + parseFloat(computed.getPropertyValue(\"padding-right\"));\n        }\n        return w;\n      } else {\n        return el.outerWidth(true);\n      }\n    };\n    _fn = function(elm, padding_bottom, parent_top, parent_height, top, height, el_float, detached) {\n      var bottomed, detach, fixed, last_pos, last_scroll_height, offset, parent, recalc, recalc_and_tick, recalc_counter, spacer, tick;\n\n      if (elm.data(\"sticky_kit\")) {\n        return;\n      }\n      elm.data(\"sticky_kit\", true);\n      last_scroll_height = doc.height();\n      parent = elm.parent();\n      if (parent_selector != null) {\n        parent = parent.closest(parent_selector);\n      }\n      if (!parent.length) {\n        throw \"failed to find stick parent\";\n      }\n      fixed = false;\n      bottomed = false;\n      spacer = manual_spacer != null ? manual_spacer && elm.closest(manual_spacer) : $(\"<div />\");\n      if (spacer) {\n        spacer.css('position', elm.css('position'));\n      }\n      recalc = function() {\n        var border_top, padding_top, restore;\n\n        if (detached) {\n          return;\n        }\n        last_scroll_height = doc.height();\n        border_top = parseInt(parent.css(\"border-top-width\"), 10);\n        padding_top = parseInt(parent.css(\"padding-top\"), 10);\n        padding_bottom = parseInt(parent.css(\"padding-bottom\"), 10);\n        parent_top = parent.offset().top + border_top + padding_top;\n        parent_height = parent.height();\n        if (fixed) {\n          fixed = false;\n          bottomed = false;\n          if (manual_spacer == null) {\n            elm.insertAfter(spacer);\n            spacer.detach();\n          }\n          elm.css({\n            position: \"\",\n            top: \"\",\n            width: \"\",\n            bottom: \"\"\n          }).removeClass(sticky_class);\n          restore = true;\n        }\n        top = elm.offset().top - (parseInt(elm.css(\"margin-top\"), 10) || 0) - offset_top;\n        height = elm.outerHeight(true);\n        el_float = elm.css(\"float\");\n        if (spacer) {\n          spacer.css({\n            width: outer_width(elm),\n            height: height,\n            display: elm.css(\"display\"),\n            \"vertical-align\": elm.css(\"vertical-align\"),\n            \"float\": el_float\n          });\n        }\n        if (restore) {\n          return tick();\n        }\n      };\n      recalc();\n      if (height === parent_height) {\n        return;\n      }\n      last_pos = void 0;\n      offset = offset_top;\n      recalc_counter = recalc_every;\n      tick = function() {\n        var css, delta, recalced, scroll, will_bottom, win_height;\n\n        if (detached) {\n          return;\n        }\n        recalced = false;\n        if (recalc_counter != null) {\n          recalc_counter -= 1;\n          if (recalc_counter <= 0) {\n            recalc_counter = recalc_every;\n            recalc();\n            recalced = true;\n          }\n        }\n        if (!recalced && doc.height() !== last_scroll_height) {\n          recalc();\n          recalced = true;\n        }\n        scroll = win.scrollTop();\n        if (last_pos != null) {\n          delta = scroll - last_pos;\n        }\n        last_pos = scroll;\n        if (fixed) {\n          if (enable_bottoming) {\n            will_bottom = scroll + height + offset > parent_height + parent_top;\n            if (bottomed && !will_bottom) {\n              bottomed = false;\n              elm.css({\n                position: \"fixed\",\n                bottom: \"\",\n                top: offset\n              }).trigger(\"sticky_kit:unbottom\");\n            }\n          }\n          if (scroll < top) {\n            fixed = false;\n            offset = offset_top;\n            if (manual_spacer == null) {\n              if (el_float === \"left\" || el_float === \"right\") {\n                elm.insertAfter(spacer);\n              }\n              spacer.detach();\n            }\n            css = {\n              position: \"\",\n              width: \"\",\n              top: \"\"\n            };\n            elm.css(css).removeClass(sticky_class).trigger(\"sticky_kit:unstick\");\n          }\n          if (inner_scrolling) {\n            win_height = win.height();\n            if (height + offset_top > win_height) {\n              if (!bottomed) {\n                offset -= delta;\n                offset = Math.max(win_height - height, offset);\n                offset = Math.min(offset_top, offset);\n                if (fixed) {\n                  elm.css({\n                    top: offset + \"px\"\n                  });\n                }\n              }\n            }\n          }\n        } else {\n          if (scroll > top) {\n            fixed = true;\n            css = {\n              position: \"fixed\",\n              top: offset\n            };\n            css.width = elm.css(\"box-sizing\") === \"border-box\" ? elm.outerWidth() + \"px\" : elm.width() + \"px\";\n            elm.css(css).addClass(sticky_class);\n            if (manual_spacer == null) {\n              elm.after(spacer);\n              if (el_float === \"left\" || el_float === \"right\") {\n                spacer.append(elm);\n              }\n            }\n            elm.trigger(\"sticky_kit:stick\");\n          }\n        }\n        if (fixed && enable_bottoming) {\n          if (will_bottom == null) {\n            will_bottom = scroll + height + offset > parent_height + parent_top;\n          }\n          if (!bottomed && will_bottom) {\n            bottomed = true;\n            if (parent.css(\"position\") === \"static\") {\n              parent.css({\n                position: \"relative\"\n              });\n            }\n            return elm.css({\n              position: \"absolute\",\n              bottom: padding_bottom,\n              top: \"auto\"\n            }).trigger(\"sticky_kit:bottom\");\n          }\n        }\n      };\n      recalc_and_tick = function() {\n        recalc();\n        return tick();\n      };\n      detach = function() {\n        detached = true;\n        win.off(\"touchmove\", tick);\n        win.off(\"scroll\", tick);\n        win.off(\"resize\", recalc_and_tick);\n        $(document.body).off(\"sticky_kit:recalc\", recalc_and_tick);\n        elm.off(\"sticky_kit:detach\", detach);\n        elm.removeData(\"sticky_kit\");\n        elm.css({\n          position: \"\",\n          bottom: \"\",\n          top: \"\",\n          width: \"\"\n        });\n        parent.position(\"position\", \"\");\n        if (fixed) {\n          if (manual_spacer == null) {\n            if (el_float === \"left\" || el_float === \"right\") {\n              elm.insertAfter(spacer);\n            }\n            spacer.remove();\n          }\n          return elm.removeClass(sticky_class);\n        }\n      };\n      win.on(\"touchmove\", tick);\n      win.on(\"scroll\", tick);\n      win.on(\"resize\", recalc_and_tick);\n      $(document.body).on(\"sticky_kit:recalc\", recalc_and_tick);\n      elm.on(\"sticky_kit:detach\", detach);\n      return setTimeout(tick, 0);\n    };\n    for (_i = 0, _len = this.length; _i < _len; _i++) {\n      elm = this[_i];\n      _fn($(elm));\n    }\n    return this;\n  };\n\n}).call(this);\n"]}